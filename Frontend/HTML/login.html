<!DOCTYPE html>
<html lang="en">
<head>
  <title>Login - CardioInsight</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='CSS/login.css') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='Images/favicon.png') }}">
</head>

<body class="relative min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0f2027] via-[#2d8ea1] to-[#6dd5ed] overflow-hidden">
  <!-- Soft blurred overlay for extra depth -->
  <div class="absolute inset-0 bg-gradient-to-tr from-white/20 via-cyan-100/30 to-teal-100/40 backdrop-blur-[2px] pointer-events-none z-0"></div>
  <div class="relative z-10 w-full flex items-center justify-center">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="fixed top-6 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-xs flex flex-col items-center">
          {% for category, message in messages %}
            <div
              class="flex items-center justify-between w-full px-4 py-3 rounded-xl shadow-xl mb-2 font-medium text-base transition-all
                {% if category == 'success' %}
                  bg-gradient-to-r from-teal-200 to-cyan-200 text-teal-900 border-l-8 border-teal-400
                {% elif category == 'danger' %}
                  bg-gradient-to-r from-red-200 to-pink-200 text-red-900 border-l-8 border-red-400
                {% elif category == 'warning' %}
                  bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-900 border-l-8 border-yellow-400
                {% else %}
                  bg-gradient-to-r from-cyan-200 to-blue-200 text-blue-900 border-l-8 border-cyan-400
                {% endif %}
              "
              role="alert"
            >
              <span class="flex-1 text-left">{{ message }}</span>
              <button type="button"
                class="ml-4 text-xl font-bold text-gray-400 hover:text-gray-700 focus:outline-none"
                onclick="this.parentElement.style.display='none';"
                aria-label="Close">&times;</button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <div class="flex flex-col md:flex-row w-full max-w-4xl mx-auto rounded-3xl shadow-2xl overflow-hidden bg-white/80 backdrop-blur-lg">

      <!-- Side Image (hidden on mobile) -->
      <div class="hidden md:flex md:w-1/2 bg-gradient-to-br from-[#2d8ea1] to-[#6dd5ed] items-center justify-center p-8">
        <div class="text-center">
          <img src="../static/Images/heartLogo.jpg" alt="Heart" class="rounded-full shadow-lg mx-auto mb-6 w-48 h-48 object-cover border-4 border-white/70">
          <h2 class="text-3xl font-bold text-white mb-2 tracking-wide">CardioInsight</h2>
          <p class="text-white/90 text-lg max-w-xs mx-auto">
            Welcome to your smart heart risk prediction portal.<br>
            <span class="text-yellow-200 font-semibold">Empower your health, one step at a time.</span>
          </p>
        </div>
      </div>

      <!-- Login Card -->
      <div class="flex-1 flex items-center justify-center p-8">
        <div class="w-full max-w-md bg-white/90 rounded-2xl shadow-xl p-8 transition-transform duration-300 hover:scale-[1.025] hover:shadow-2xl">
          <div class="text-center mb-6">
            <span class="inline-flex items-center justify-center rounded-full bg-blue-50 p-3 shadow mb-3">
              <svg class="w-10 h-10 text-[#2d8ea1]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 7.5a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.5 19.5a7.5 7.5 0 0115 0v.25a2.25 2.25 0 01-2.25 2.25h-10.5A2.25 2.25 0 014.5 19.75V19.5z" />
              </svg>
            </span>
            <h4 class="text-2xl font-bold text-[#2d8ea1] mb-1">Login</h4>
            <div class="text-gray-500 mb-2 text-base">Sign in to continue</div>
          </div>
          <form action="/login" method="POST" autocomplete="off">
            <div class="mb-4">
              <input
                type="text"
                name="un"
                class="form-control form-control-lg block w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#38bdf8] focus:border-[#38bdf8] hover:border-[#2dd4bf] hover:ring-2 hover:ring-[#2dd4bf] px-4 py-3 text-lg transition"
                placeholder="Enter Username"
                required
                autofocus
                value="{{ request.form.get('un', '') }}"
              >
            </div>
            <div class="mb-4">
              <input
                type="password"
                name="pw"
                class="form-control form-control-lg block w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#38bdf8] focus:border-[#38bdf8] hover:border-[#2dd4bf] hover:ring-2 hover:ring-[#2dd4bf] px-4 py-3 text-lg transition"
                placeholder="Enter Password"
                required
              >
            </div>
            <div class="mb-2">
              <button type="submit" class="w-full py-3 rounded-lg bg-gradient-to-r from-[#2d8ea1] to-[#6dd5ed] text-white font-bold text-lg shadow-md hover:from-[#1abc9c] hover:to-[#2d8ea1] transition">Login</button>
            </div>
          </form>
          <div class="flex justify-between mt-3 text-sm">
            <a href="{{ url_for('signup') }}" class="text-[#1abc9c] hover:underline">New User? Register</a>
            <a href="{{ url_for('forgot') }}" class="text-[#1abc9c] hover:underline">Forgot Password?</a>
          </div>
          {% if msg %}
          <div class="alert alert-success mt-4 py-2 text-base text-center rounded-lg bg-green-100 text-green-700 border border-green-200">{{ msg }}</div>
          {% endif %}
          <div class="text-center mt-4">
            <a href="{{ url_for('home') }}?guest=1"
               class="inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-gradient-to-r from-[#e0f7fa] to-[#6dd5ed] text-[#2d8ea1] font-semibold shadow hover:from-[#b2ebf2] hover:to-[#38bdf8] transition"
               style="text-decoration: none;">
              <i class="bi bi-house-door-fill text-xl"></i>
              Guest Mode
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
